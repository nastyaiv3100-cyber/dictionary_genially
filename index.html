<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ö–∞—Ä—Ç–æ—á–µ–∫ v5.3 ‚Äî Beautiful UI</title>

<style>
  :root{
    --bg0:#0b1220;
    --bg1:#0f172a;
    --card:#ffffff;
    --muted:#94a3b8;
    --text:#0f172a;
    --stroke:rgba(148,163,184,.22);
    --shadow: 0 18px 40px rgba(2, 6, 23, .25);
    --shadow2: 0 10px 25px rgba(2, 6, 23, .14);
    --radius:18px;
    --radius2:14px;
    --accent:#3b82f6;
    --accent2:#06b6d4;
    --good:#22c55e;
    --warn:#f59e0b;
    --danger:#ef4444;
  }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
    color: rgba(255,255,255,.92);
    background:
      radial-gradient(1000px 700px at 10% -10%, rgba(59,130,246,.35), transparent 55%),
      radial-gradient(900px 700px at 90% 0%, rgba(6,182,212,.28), transparent 55%),
      radial-gradient(1100px 900px at 50% 110%, rgba(168,85,247,.18), transparent 60%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    padding: 22px;
  }

  /* Header */
  .topbar{
    max-width: 1180px;
    margin: 0 auto 18px auto;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 14px;
  }
  .brand{
    display:flex; align-items:center; gap:12px;
  }
  .logo{
    width:42px; height:42px;
    border-radius: 14px;
    background: linear-gradient(135deg, rgba(59,130,246,.95), rgba(6,182,212,.9));
    box-shadow: 0 10px 30px rgba(59,130,246,.25);
    display:grid; place-items:center;
    font-weight: 900;
    letter-spacing: .5px;
  }
  .brand h1{
    margin:0;
    font-size: 16px;
    line-height: 1.1;
  }
  .brand p{
    margin:2px 0 0 0;
    color: rgba(148,163,184,.95);
    font-size: 12px;
  }
  .pill{
    display:flex; align-items:center; gap:8px;
    padding: 10px 12px;
    border-radius: 999px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.10);
    backdrop-filter: blur(10px);
    color: rgba(255,255,255,.9);
    font-size: 12px;
    white-space: nowrap;
  }

  /* Layout */
  .main-layout{
    max-width: 1180px;
    margin: 0 auto;
    display:grid;
    grid-template-columns: 380px 1fr;
    gap: 18px;
    align-items:start;
  }

  @media (max-width: 980px){
    .main-layout{ grid-template-columns: 1fr; }
    .settings-panel{ position: relative !important; top:auto !important; max-height: none !important; }
  }

  /* Panels */
  .panel{
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.10);
    border-radius: var(--radius);
    box-shadow: var(--shadow2);
    backdrop-filter: blur(14px);
    overflow:hidden;
  }

  .panel-inner{
    padding: 18px;
  }

  .settings-panel{
    position: sticky;
    top: 18px;
    max-height: calc(100vh - 36px);
    overflow:auto;
  }

  /* nice scrollbar */
  .settings-panel::-webkit-scrollbar{ width: 10px; }
  .settings-panel::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,.14);
    border-radius: 999px;
    border: 2px solid rgba(15,23,42,.7);
  }
  .settings-panel::-webkit-scrollbar-track{ background: transparent; }

  /* Headings */
  h2{
    margin: 0 0 14px 0;
    font-size: 15px;
    letter-spacing: .2px;
  }
  .subhead{
    margin: 14px 0 10px 0;
    padding-top: 14px;
    border-top: 1px solid rgba(255,255,255,.10);
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
    gap:12px;
  }
  .subhead h3{
    margin:0;
    font-size: 13px;
    color: rgba(255,255,255,.92);
  }
  .subhead small{
    color: rgba(148,163,184,.95);
    font-size: 11px;
  }

  /* Form */
  label{
    display:flex;
    justify-content:space-between;
    gap: 10px;
    font-weight: 650;
    font-size: 12px;
    color: rgba(255,255,255,.86);
    margin: 12px 0 8px 0;
  }
  .hint{
    color: rgba(148,163,184,.95);
    font-weight: 600;
    font-size: 11px;
    margin-top: 2px;
  }
  .range-value{
    color: rgba(255,255,255,.92);
    font-weight: 800;
    padding: 2px 8px;
    border-radius: 999px;
    background: rgba(59,130,246,.22);
    border: 1px solid rgba(59,130,246,.28);
    align-self:flex-start;
  }

  input[type="range"]{
    width:100%;
    accent-color: var(--accent);
    margin: 6px 0 0 0;
  }

  .color-row{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 8px;
  }

  .color-field{
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.10);
    border-radius: var(--radius2);
    padding: 10px;
  }
  .color-field .title{
    font-size: 11px;
    color: rgba(148,163,184,.95);
    margin-bottom: 8px;
    font-weight: 700;
  }
  input[type="color"]{
    width: 100%;
    height: 42px;
    border: 1px solid rgba(255,255,255,.14);
    border-radius: 12px;
    cursor:pointer;
    padding: 0;
    background: rgba(255,255,255,.04);
  }

  /* Buttons */
  .btn-row{
    display:flex;
    gap: 10px;
    margin-top: 10px;
  }
  button{
    border: none;
    cursor: pointer;
    font-weight: 800;
    border-radius: 14px;
    padding: 11px 12px;
    transition: transform .12s ease, filter .12s ease, background .12s ease;
    user-select: none;
  }
  button:active{ transform: translateY(1px) scale(.99); }

  .btn-ghost{
    flex:1;
    background: rgba(255,255,255,.06);
    color: rgba(255,255,255,.92);
    border: 1px solid rgba(255,255,255,.12);
  }
  .btn-ghost:hover{ filter: brightness(1.08); }

  .generate-btn{
    width:100%;
    margin-top: 14px;
    padding: 14px 14px;
    font-size: 14px;
    color: #06111f;
    background: linear-gradient(135deg, #60a5fa 0%, #22d3ee 70%, #34d399 120%);
    box-shadow: 0 16px 30px rgba(34,211,238,.18), 0 10px 22px rgba(96,165,250,.18);
  }
  .generate-btn:hover{ transform: translateY(-1px); filter: brightness(1.02); }

  /* Dictionary list */
  .word-list{
    height: 380px;
    overflow:auto;
    border-radius: var(--radius2);
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(2,6,23,.26);
    padding: 8px;
    margin-top: 10px;
  }

  .word-list::-webkit-scrollbar{ width: 10px; }
  .word-list::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,.14);
    border-radius: 999px;
    border: 2px solid rgba(2,6,23,.35);
  }

  .check-item{
    display:flex;
    align-items:center;
    gap: 10px;
    padding: 9px 10px;
    border-radius: 12px;
    border: 1px solid transparent;
    transition: background .12s ease, border-color .12s ease;
  }
  .check-item:hover{
    background: rgba(255,255,255,.06);
    border-color: rgba(255,255,255,.10);
  }

  .check-item input{
    width: 18px;
    height: 18px;
    accent-color: var(--accent2);
    cursor:pointer;
  }
  .check-item label{
    margin:0;
    font-weight: 750;
    font-size: 12px;
    color: rgba(255,255,255,.92);
    cursor:pointer;
    display:block;
    width:100%;
  }

  /* Right column */
  .preview-panel{
    display:flex;
    flex-direction:column;
    gap: 14px;
  }

  .section-title{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
    padding: 14px 16px;
    border-bottom: 1px solid rgba(255,255,255,.10);
  }
  .section-title .t{
    font-weight: 900;
    font-size: 13px;
  }
  .section-title .meta{
    color: rgba(148,163,184,.95);
    font-size: 11px;
    font-weight: 700;
  }

  .preview-box{
    height: 850px; /* –º–µ—Ö–∞–Ω–∏–∫–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã */
    border-radius: var(--radius);
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    overflow:hidden;
    box-shadow: var(--shadow);
    position: relative;
  }
  .preview-box::before{
    content:"";
    position:absolute; inset:0;
    background:
      radial-gradient(700px 400px at 20% 0%, rgba(96,165,250,.20), transparent 55%),
      radial-gradient(700px 500px at 90% 20%, rgba(34,211,238,.14), transparent 55%);
    pointer-events:none;
  }
  #previewArea{
    position:absolute; inset:0;
  }

  .code-panel textarea{
    width:100%;
    height: 150px;
    padding: 14px;
    border-radius: var(--radius2);
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(2,6,23,.35);
    color: rgba(255,255,255,.92);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 12px;
    resize: vertical;
    outline: none;
  }
  .code-panel textarea:focus{
    border-color: rgba(34,211,238,.35);
    box-shadow: 0 0 0 4px rgba(34,211,238,.10);
  }

  .note{
    margin-top: 10px;
    font-size: 11px;
    color: rgba(148,163,184,.95);
    line-height: 1.35;
  }

  .kpi{
    display:flex; gap:10px; flex-wrap:wrap;
    margin-top: 10px;
  }
  .kpi .chip{
    font-size: 11px;
    font-weight: 800;
    color: rgba(255,255,255,.92);
    padding: 8px 10px;
    border-radius: 999px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.12);
  }
</style>
</head>

<body>

  <div class="topbar">
    <div class="brand">
      <div class="logo">‚ö°</div>
      <div>
        <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ (flip) ‚Äî v5.3</h1>
        <p>–ö—Ä–∞—Å–∏–≤—ã–π UI, —Ç–∞ –∂–µ –º–µ—Ö–∞–Ω–∏–∫–∞: –≤—ã–±–æ—Ä —Ñ—Ä–∞–∑ ‚Üí –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä ‚Üí iframe –¥–ª—è Genially</p>
      </div>
    </div>
    <div class="pill">üìå –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ = –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç</div>
  </div>

  <div class="main-layout">
    <!-- LEFT -->
    <div class="panel settings-panel">
      <div class="panel-inner">
        <h2>üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

        <label>
          –ú–∞—Å—à—Ç–∞–±
          <span id="scaleVal" class="range-value">1.0</span>
        </label>
        <input type="range" id="scaleInput" min="0.3" max="1.5" step="0.1" value="1.0" oninput="updatePreview()">
        <div class="hint">–ú–µ–Ω—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ Genially —á–µ—Ä–µ–∑ transform: scale()</div>

        <div class="color-row">
          <div class="color-field">
            <div class="title">–¶–≤–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏</div>
            <input type="color" id="cardColor" value="#FF9800" oninput="updatePreview()">
          </div>
          <div class="color-field">
            <div class="title">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</div>
            <input type="color" id="textColor" value="#FFFFFF" oninput="updatePreview()">
          </div>
        </div>

        <div class="subhead">
          <div>
            <h3>–°–ª–æ–≤–∞—Ä—å</h3>
            <small>–æ—Ç–º–µ—Ç—å –Ω—É–∂–Ω—ã–µ —Ñ—Ä–∞–∑—ã</small>
          </div>
        </div>

        <div class="btn-row">
          <button class="btn-ghost" onclick="toggleAll(true)">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
          <button class="btn-ghost" onclick="toggleAll(false)">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>

        <div class="word-list" id="wordListContainer"></div>

        <button class="generate-btn" onclick="generateCode()">üì¶ –£–ø–∞–∫–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è Genially</button>

        <div class="kpi">
          <div class="chip">–ë–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫</div>
          <div class="chip">srcdoc + sandbox</div>
          <div class="chip">Live preview</div>
        </div>

        <div class="note">
          –ï—Å–ª–∏ Genially —Ä–µ–∂–µ—Ç –≤—ã—Å–æ—Ç—É ‚Äî –≤ —Å–∞–º–æ–º Genially –±–ª–æ–∫—É iframe –≤—ã—Å—Ç–∞–≤—å ‚Äú100%‚Äù –∏ –ø—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ —Å–ª–∞–π–¥–µ.
        </div>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="preview-panel">
      <div class="panel">
        <div class="section-title">
          <div class="t">üëÄ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</div>
          <div class="meta">–≤—ã—Å–æ—Ç–∞ –æ–∫–Ω–∞: 850px</div>
        </div>
        <div class="preview-box">
          <div id="previewArea"></div>
        </div>
      </div>

      <div class="panel code-panel">
        <div class="section-title">
          <div class="t">üß© –ö–æ–¥ –¥–ª—è Genially</div>
          <div class="meta">–∫–ª–∏–∫ –ø–æ –ø–æ–ª—é ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å</div>
        </div>
        <div class="panel-inner">
          <textarea id="resultCode" readonly onclick="this.select()"></textarea>
          <div class="note">–ö–æ–¥ —É–∂–µ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–ª—è srcdoc (–∫–∞–≤—ã—á–∫–∏ ‚Üí &amp;quot;). –ú–µ—Ö–∞–Ω–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞.</div>
        </div>
      </div>
    </div>
  </div>

<script>
  const dictionaryDB = {
    "–±–∞–∫–ª—É—à–∏ –±–∏—Ç—å": "–ë–µ–∑–¥–µ–ª—å–Ω–∏—á–∞—Ç—å, –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –ø—É—Å—Ç—è–∫–∞–º–∏.",
    "–±–µ–∑ –≥–æ–¥—É –Ω–µ–¥–µ–ª—è": "–°–æ–≤—Å–µ–º –Ω–µ–¥–∞–≤–Ω–æ, –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è.",
    "–±–µ–ª–∞—è –≤–æ—Ä–æ–Ω–∞": "–ß–µ–ª–æ–≤–µ–∫, —Ä–µ–∑–∫–æ –≤—ã–¥–µ–ª—è—é—â–∏–π—Å—è –∏–∑ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã.",
    "–±–ª–æ—Ö—É –ø–æ–¥–∫–æ–≤–∞—Ç—å": "–ò—Å–∫—É—Å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∞–º—É—é –∑–∞–º—ã—Å–ª–æ–≤–∞—Ç—É—é —Ä–∞–±–æ—Ç—É.",
    "–≤ –µ–∂–æ–≤—ã—Ö —Ä—É–∫–∞–≤–∏—Ü–∞—Ö": "–û—á–µ–Ω—å —Å—Ç—Ä–æ–≥–æ, —Å—É—Ä–æ–≤–æ.",
    "–≤ —á–∞—Å –ø–æ —á–∞–π–Ω–æ–π –ª–æ–∂–∫–µ": "–û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ.",
    "–≤–µ—à–∞—Ç—å –≥–æ–ª–æ–≤—É": "–£–Ω—ã–≤–∞—Ç—å.",
    "–≤–∏–ª–∞–º–∏ –ø–æ –≤–æ–¥–µ –ø–∏—Å–∞–Ω–æ": "–ò—Å—Ö–æ–¥ –Ω–µ —è—Å–µ–Ω, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫ –±—É–¥–µ—Ç.",
    "–≤–∏—Ç–∞—Ç—å –≤ –æ–±–ª–∞–∫–∞—Ö": "–§–∞–Ω—Ç–∞–∑–∏—Ä–æ–≤–∞—Ç—å, –º–µ—á—Ç–∞—Ç—å.",
    "–≤–æ–¥–∏—Ç—å –∑–∞ –Ω–æ—Å": "–û–±–º–∞–Ω—ã–≤–∞—Ç—å, –≤–≤–æ–¥–∏—Ç—å –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.",
    "–≤–æ–¥–æ–π –Ω–µ —Ä–∞–∑–ª–∏—Ç—å": "–û –∫—Ä–µ–ø–∫–æ–π –¥—Ä—É–∂–±–µ.",
    "–≤–æ–ª–æ—Å—ã –¥—ã–±–æ–º": "–û—á–µ–Ω—å —Å—Ç—Ä–∞—à–Ω–æ.",
    "–≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —á–∏—Å—Ç—É—é –≤–æ–¥—É": "–†–∞–∑–æ–±–ª–∞—á–∏—Ç—å, —É–ª–∏—á–∏—Ç—å –≤–æ –ª–∂–∏.",
    "–¥–µ–ª–∞—Ç—å –∏–∑ –º—É—Ö–∏ —Å–ª–æ–Ω–∞": "–°–∏–ª—å–Ω–æ –ø—Ä–µ—É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å.",
    "–¥–µ—Ä–∂–∞—Ç—å —è–∑—ã–∫ –∑–∞ –∑—É–±–∞–º–∏": "–ú–æ–ª—á–∞—Ç—å.",
    "–¥—É—à–∞ –≤ –ø—è—Ç–∫–∏": "–°–∏–ª—å–Ω—ã–π –∏—Å–ø—É–≥.",
    "–∑–∞—Ä—É–±–∏—Ç—å –Ω–∞ –Ω–æ—Å—É": "–ö—Ä–µ–ø–∫–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞.",
    "–∫–∞–∫ –≤ –≤–æ–¥—É –≥–ª—è–¥–µ–ª": "–ü—Ä–µ–¥–≤–∏–¥–µ–ª —Å–æ–±—ã—Ç–∏—è.",
    "–∫–∞–∫ –¥–≤–µ –∫–∞–ø–ª–∏ –≤–æ–¥—ã": "–û—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏.",
    "–∫–∞–∫ —Ä—ã–±–∞ –≤ –≤–æ–¥–µ": "–ß—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ.",
    "–∫–∞–∫ —Å –≥—É—Å—è –≤–æ–¥–∞": "–í—Å—ë –Ω–∏–ø–æ—á–µ–º, –±–µ–∑—Ä–∞–∑–ª–∏—á–Ω–æ.",
    "–∫–ª–µ–≤–∞—Ç—å –Ω–æ—Å–æ–º": "–î—Ä–µ–º–∞—Ç—å.",
    "–∫–æ—Ç –Ω–∞–ø–ª–∞–∫–∞–ª": "–û—á–µ–Ω—å –º–∞–ª–æ.",
    "–∫—Ä–æ–∫–æ–¥–∏–ª–æ–≤—ã —Å–ª–µ–∑—ã": "–ü—Ä–∏—Ç–≤–æ—Ä–Ω–æ–µ —Å–æ–∂–∞–ª–µ–Ω–∏–µ.",
    "–º–µ–¥–≤–µ–¥—å –Ω–∞ —É—Ö–æ –Ω–∞—Å—Ç—É–ø–∏–ª": "–ù–µ—Ç –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Å–ª—É—Ö–∞.",
    "–º–æ—Ä–æ—á–∏—Ç—å –≥–æ–ª–æ–≤—É": "–°–±–∏–≤–∞—Ç—å —Å —Ç–æ–ª–∫—É.",
    "–Ω–∞ —Å–µ–¥—å–º–æ–º –Ω–µ–±–µ": "–í –ø–æ–ª–Ω–æ–º –≤–æ—Å—Ç–æ—Ä–≥–µ.",
    "–Ω–µ –≤ —Å–≤–æ–µ–π —Ç–∞—Ä–µ–ª–∫–µ": "–ß—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –Ω–µ—É—é—Ç–Ω–æ.",
    "–Ω–∏ –ø—É—Ö–∞ –Ω–∏ –ø–µ—Ä–∞": "–ü–æ–∂–µ–ª–∞–Ω–∏–µ —É–¥–∞—á–∏.",
    "–æ–±–≤–µ—Å—Ç–∏ –≤–æ–∫—Ä—É–≥ –ø–∞–ª—å—Ü–∞": "–õ–æ–≤–∫–æ –æ–±–º–∞–Ω—É—Ç—å.",
    "–ø–æ—Å–ª–µ –¥–æ–∂–¥–∏—á–∫–∞ –≤ —á–µ—Ç–≤–µ—Ä–≥": "–ù–∏–∫–æ–≥–¥–∞.",
    "—Å–µ–º—å –ø—è—Ç–Ω–∏—Ü –Ω–∞ –Ω–µ–¥–µ–ª–µ": "–û —á–µ–ª–æ–≤–µ–∫–µ, —á–∞—Å—Ç–æ –º–µ–Ω—è—é—â–µ–º —Ä–µ—à–µ–Ω–∏—è.",
    "—Å–µ—Å—Ç—å –≤ –∫–∞–ª–æ—à—É": "–û–∫–∞–∑–∞—Ç—å—Å—è –≤ —Å–º–µ—à–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏, –Ω–µ—É–¥–∞—á–∞.",
    "—Å–∏–¥–µ—Ç—å —Å–ª–æ–∂–∞ —Ä—É–∫–∏": "–ë–µ–∑–¥–µ–ª—å–Ω–∏—á–∞—Ç—å.",
    "—Å–∫–≤–æ–∑—å –∑–µ–º–ª—é –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è": "–°–∏–ª—å–Ω–æ —Å—Ç—ã–¥–∏—Ç—å—Å—è.",
    "—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∫–≤–æ–∑—å –ø–∞–ª—å—Ü—ã": "–ù–µ –∑–∞–º–µ—á–∞—Ç—å –ø–ª–æ—Ö–æ–≥–æ.",
    "—Å–æ–±–∞–∫—É —Å—ä–µ–ª": "–ò–º–µ—Ç—å –±–æ–ª—å—à–æ–π –æ–ø—ã—Ç.",
    "—Å—á–∏—Ç–∞—Ç—å –≤–æ—Ä–æ–Ω": "–û—Ç–≤–ª–µ–∫–∞—Ç—å—Å—è.",
    "—Ç–∏—à–µ –≤–æ–¥—ã –Ω–∏–∂–µ —Ç—Ä–∞–≤—ã": "–ë—ã—Ç—å –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–º.",
    "—Ç—è–Ω—É—Ç—å –∫–æ—Ç–∞ –∑–∞ —Ö–≤–æ—Å—Ç": "–ú–µ–¥–ª–∏—Ç—å.",
    "—É–º—ã–≤–∞—Ç—å —Ä—É–∫–∏": "–°–Ω–∏–º–∞—Ç—å —Å —Å–µ–±—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.",
    "—Ö–æ—Ç—å –≥–ª–∞–∑ –≤—ã–∫–æ–ª–∏": "–û—á–µ–Ω—å —Ç–µ–º–Ω–æ.",
    "—è–∑—ã–∫ –ø—Ä–æ–≥–ª–æ—Ç–∏—Ç—å": "–ó–∞–º–æ–ª—á–∞—Ç—å."
  };

  function initList() {
    const container = document.getElementById('wordListContainer');
    container.innerHTML = "";
    Object.keys(dictionaryDB).sort().forEach((key, i) => {
      const div = document.createElement('div');
      div.className = 'check-item';
      // –º–µ—Ö–∞–Ω–∏–∫–∞ —Ç–∞ –∂–µ: –ø–µ—Ä–≤—ã–µ 6 –≤—ã–¥–µ–ª–µ–Ω—ã
      div.innerHTML = `<label><input type="checkbox" value="${key}" ${i<6?'checked':''} onchange="updatePreview()"> ${key}</label>`;
      container.appendChild(div);
    });
    updatePreview();
  }

  function toggleAll(state) {
    document.querySelectorAll('#wordListContainer input').forEach(cb => cb.checked = state);
    updatePreview();
  }

function getInnerHtml(settings, items) {
  return `
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<style>
body{
  margin:0;
  padding:0;
  font-family:'Segoe UI', sans-serif;
  background:transparent;
  width:100vw;
  overflow-x:hidden;
}

/* –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ */
.scaler{
  width: calc(100vw / ${settings.scale} - 30px);
  transform: scale(${settings.scale});
  transform-origin: 0 0;
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:center;
  padding:10px;
  box-sizing:border-box;
}

/* –∫–∞—Ä—Ç–æ—á–∫–∞ */
.flip-card{
  width:180px;
  height:120px;
  perspective:1000px;
  cursor:pointer;
  background:transparent;
}

/* –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∞—Å—Ç—å */
.flip-card-inner{
  position:relative;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  transition:transform .6s ease;
  border-radius:18px;
  box-shadow:
    0 10px 0 rgba(0,0,0,.25),
    0 18px 28px rgba(0,0,0,.18);
}

/* –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç */
.flip-card.flipped .flip-card-inner{
  transform: rotateY(180deg);
}

/* —Å—Ç–æ—Ä–æ–Ω—ã –∫–∞—Ä—Ç–æ—á–∫–∏ */
.flip-card-front,
.flip-card-back{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border-radius:18px;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
  border:3px solid rgba(15,23,42,.9);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:12px;
  box-sizing:border-box;
  text-align:center;
}

/* –ª–∏—Ü–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ */
.flip-card-front{
  background:${settings.cardColor};
  color:${settings.textColor};
}

.flip-card-front::before{
  content:"";
  position:absolute;
  inset:10px;
  border-radius:14px;
  border:2px dashed rgba(255,255,255,.55);
  opacity:.9;
  pointer-events:none;
}

.flip-card-front p{
  width:100%;
  margin:0;
  font-size:1.1em;
  font-weight:1000;
  text-transform:uppercase;
  letter-spacing:.7px;
  line-height:1.15;
  text-align:center;
  word-break:break-word;
  text-shadow:2px 2px 0 rgba(0,0,0,.35);
}

/* –æ–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ */
.flip-card-back{
  background:#ffffff;
  color:#0f172a;
  transform: rotateY(180deg);
}

.flip-card-back::after{
  content:"üí¨";
  position:absolute;
  top:8px;
  right:10px;
  font-size:18px;
  opacity:.6;
  pointer-events:none;
}

.flip-card-back p{
  width:100%;
  margin:0;
  font-size:.9em;
  line-height:1.35;
  text-align:center;
  word-break:break-word;
}
</style>
</head>

<body>
  <div class="scaler">
    ${items.map(item => `
      <div class="flip-card" onclick="this.classList.toggle('flipped')">
        <div class="flip-card-inner">
          <div class="flip-card-front">
            <p>${item.phrase}</p>
          </div>
          <div class="flip-card-back">
            <p>${item.def}</p>
          </div>
        </div>
      </div>
    `).join('')}
  </div>
</body>
</html>`;
}

  function updatePreview() {
    const settings = {
      cardColor: document.getElementById('cardColor').value,
      textColor: document.getElementById('textColor').value,
      scale: document.getElementById('scaleInput').value
    };
    document.getElementById('scaleVal').innerText = settings.scale;

    const items = Array.from(document.querySelectorAll('#wordListContainer input:checked'))
      .map(cb => ({ phrase: cb.value, def: dictionaryDB[cb.value] }));

    const iframe = document.createElement('iframe');
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.border = "none";
    iframe.style.background = "transparent";

    document.getElementById('previewArea').innerHTML = '';
    document.getElementById('previewArea').appendChild(iframe);

    const doc = iframe.contentWindow.document;
    doc.open();
    doc.write(getInnerHtml(settings, items));
    doc.close();
  }

  function generateCode() {
    const settings = {
      cardColor: document.getElementById('cardColor').value,
      textColor: document.getElementById('textColor').value,
      scale: document.getElementById('scaleInput').value
    };
    const items = Array.from(document.querySelectorAll('#wordListContainer input:checked'))
      .map(cb => ({ phrase: cb.value, def: dictionaryDB[cb.value] }));

    if (items.length === 0) { alert("–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–≤–∞!"); return; }

    let htmlContent = getInnerHtml(settings, items);
    let escapedHtml = htmlContent.replace(/"/g, '&quot;');

    const iframeCode = `<iframe 
    srcdoc="${escapedHtml}" 
    style="width: 100%; height: 100%; border: none; overflow: visible; background: transparent;"
    sandbox="allow-scripts allow-same-origin"
></iframe>`;

    const textarea = document.getElementById('resultCode');
    textarea.value = iframeCode;

    // –ª—ë–≥–∫–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ (–º–µ—Ö–∞–Ω–∏–∫–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
    textarea.style.borderColor = "rgba(34,211,238,.45)";
    textarea.style.boxShadow = "0 0 0 4px rgba(34,211,238,.12)";
    setTimeout(() => {
      textarea.style.borderColor = "rgba(255,255,255,.12)";
      textarea.style.boxShadow = "none";
    }, 650);
  }

  initList();
</script>

</body>
</html>
